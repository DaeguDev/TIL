## 주제 작성

- 서버/레플리카 서버 구성 목적과 장점

## Introduction

1. 주제 선정 이유 : 서버/데이터베이스 이해도 제고
1. 키워드 : 서버, 복제, 원본, 데이터베이스 

## Body

1. 정의: 한 서버에서 다른 서버로 데이터를 동기화시키는 것 
- 소스 서버(마스터 서버): 원본 데이터를 가진 서버 
- 레플리카 서버(슬레이브 서버): 복제된 데이터를 가진 서버

## Why replication

레플리카 서버를 활용하는 것에는 크게 4가지 이점이 존재한다.

1. 확장성: 늘어나는 트래픽 대응이 용이함
1. 백업: 소스 서버에서 백업 과정을 진행할 경우 실제 실행중인 서비스 쿼리 퍼포먼스에 악영향을 줄 수 있음
1. 분석: 백업과 동일한 이유. 보통 분석용 쿼리는 대량의 데이터를 조회하게 되므로 쿼리 실행 자체에 부담이 가는 경우가 많으므로 분석용 레플리카 서버에서 진행하는 것이 일반적. 
1. 데이터의 지리적 분산: 데이터베이스와 애플리케이션 서버가 지리적/물리적으로 멀리 있는 경우 데이터 응답 속도가 느림. 이를 보완하기 위해 레플리카 서버를 구축해 물리적 거리를 줄이는 것이 하나의 방법. 

## MySQL 레플리카 서버 설정

데이터베이스 내 바이너리 로그를 찾고

```shell
$show binary logs; 
$show master status;
```

이를 레플리카 서버로 전송함. 전송된 바이너리 로그와 변경사항들이 레플리카에 적용되면서 데이터 동기화가 이루어짐.

<details>
<summary>바이너리 로그란? </summary>

MySQL 서버에서 발생하는 모든 변경사항을 별도의 로그 파일에 순서대로 저장

1. 데이터 변경 내역 
1. 데이터베이스나 테이블의 구조 변경
1. 계정이나 권한의 변경 정보

## 포맷 

1. statement 방식: SQL문을 바이너리 로그에 기록됨. 트랜잭션 격리 수준이 반드시 repeatable-read 이상이어야 가능함. 
1. row 방식: 데이터 변경이 발생했을 때 변경된 값 자체가 기록횜
1. mixed 방식: statement + row 방식. 
</details>

## 변경 내역 식별

1. 바이너리 로그 파일 위치 기반 복제: 소스 서버의 바이너리 로그 파일명과 위치를 기반으로 복제. 레플리카 서버에 반드시 server_id를 지정해줘야 함. 
1. 글로벌 트랜잭션 ID 기반(GTID) 복제: 복제한 이벤트들이 모든 서버에서 동일한 식별값을 가짐. 

## 사진, 도표 첨부(필요시)

## TIL 챌린지 날짜 기록
- [ ] 챌린지 진행: 2022.xx.xx

## TIL 모티브 설명
우아한 테크 코스에서 진행되는 10분 테코톡 강의 수강 후 TIL 형식 정리

## 테코톡이란? 
> 🙋‍♀️ 우아한테크코스의 크루들이 진행하는 10분 테크토크입니다. 🙋‍♂️ '10분 테코톡'이란  우아한테크코스 과정을 진행하며 크루(수강생)들이 동료들과 학습한 내용을 공유하고 이야기하는 시간입니다. 서로가 성장하기 위해 지식을 나누고 대화하며 생각해보는 시간으로 자기 주도적인 성장을 지향하는 우아한테크코스의 문화 중 하나입니다.

> 🌕우아한테크코스란 🌕 우아한테크코스는 일반 사용자용 서비스를 개발하는 회사가 필요로 하는 역량을 가진 프로그래머를 양성하기 위한 교육입니다. 우리의 목표는 자기 주도적으로 학습하고 성장하고 싶은 개발자를 위한 교육을 만드는 것입니다.
